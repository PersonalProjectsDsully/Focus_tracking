# Focus Tracking

This repository provides a small set of scripts for monitoring window focus activity on Windows and visualising the collected data.

## Contents

* `standalone_focus_monitor.py` – a command line tool that records the currently focused window over time. It writes log files and daily summaries to a `focus_logs` directory.
  The monitor can capture screenshots and OCR text for selected applications and organises activity into five‑minute buckets.  Daily summaries include a **focus score**, meeting detection and per‑app classifications.  Browser profiles for Edge, Chrome and Firefox are detected using colour analysis and aggregated separately on a daily basis.  LLM processing is no longer performed in the agent and is handled through the dashboard.
* `focus_monitor_dashboard.py` – a [Streamlit](https://streamlit.io/) dashboard that reads the log files generated by the tool and displays interactive charts.
  The dashboard provides controls to start or stop the tracker, a label editor for renaming activities and a **Browser Profile Manager** for configuring colour‑based profile detection.  It also includes tools for managing activity categories, a processor for historical data and optional LLM integration (Ollama or OpenAI) for generating summaries and category suggestions.

## Requirements

The scripts are intended for Windows and require Python 3.8 or later. The main dependencies are listed in `requirements.txt` and can be installed with `pip`:

```bash
pip install -r requirements.txt
```

Some functionality such as window detection relies on the [pywin32](https://pypi.org/project/pywin32/) package, which only works on Windows systems.
For OCR support you also need the [Tesseract](https://github.com/tesseract-ocr/tesseract) command line tool available in your PATH.

## Usage

1. **Run the focus monitor tool**
   ```bash
   python standalone_focus_monitor.py
   ```
   Optional arguments include:
   - `--output-dir` to specify where logs are saved (defaults to the script directory)
   - `--interval` to change the sampling interval (seconds)
   - `--summary-interval` to control how often summaries are generated
   - `--api-url` to connect to a backend for status checks (optional)
   - `--no-api-check` to disable backend status queries
   - `--force-summary` to generate a summary immediately on start

   Log files, daily summaries and five‑minute bucket summaries are written into `focus_logs/`.

   Five‑minute buckets are stored without LLM summaries.  Summaries and activity categorisation can be generated later through the dashboard using a local Ollama model or the OpenAI API.

2. **Launch the dashboard**
   ```bash
   streamlit run focus_monitor_dashboard.py
   ```
  The dashboard reads files from `focus_logs/` and provides:
  - interactive charts of daily summaries and browser profile usage
  - controls to start or stop the tracker
  - a label editor for categorising activities
  - a **Browser Profile Manager** for colour‑based profile detection
  - a page to browse five‑minute summaries and record personal feedback
  - tools to define activity categories and apply them automatically with an LLM
  - a processor to regenerate or recategorise historical data
  - an experimental page for testing category suggestions

## License

This project is distributed without a specific licence file. Use at your own discretion.

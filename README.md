# Focus Tracking

This repository provides a small set of scripts for monitoring window focus activity on Windows and visualising the collected data.

## Contents

* `standalone_focus_monitor.py` – a command line tool that records the currently focused window over time. It writes log files and daily summaries to a `focus_logs` directory.
  The monitor can optionally grab screenshots and OCR text for selected applications and organises activity into five‑minute buckets with automatic summaries. Daily summaries now include a **focus score**, detected meeting time and per‑app classifications (productive vs distraction). Browser profiles in Chrome and Edge are detected so work and personal usage can be separated.
* `focus_monitor_dashboard.py` – a [Streamlit](https://streamlit.io/) dashboard that reads the log files generated by the tool and displays interactive charts.
  The dashboard includes a label editor for renaming activities, a page for reviewing five‑minute summaries with personal notes, and new tools for managing activity categories.  Categories can be suggested automatically using a local LLM and applied to historical data.  An optional test page helps diagnose category suggestions.

## Requirements

The scripts are intended for Windows and require Python 3.8 or later. The main dependencies are listed in `requirements.txt` and can be installed with `pip`:

```bash
pip install -r requirements.txt
```

Some functionality such as window detection relies on the [pywin32](https://pypi.org/project/pywin32/) package, which only works on Windows systems.
For OCR support you also need the [Tesseract](https://github.com/tesseract-ocr/tesseract) command line tool available in your PATH.

## Usage

1. **Run the focus monitor tool**
   ```bash
   python standalone_focus_monitor.py
   ```
   Optional arguments include:
   - `--output-dir` to specify where logs are saved (defaults to the script directory)
   - `--interval` to change the sampling interval (seconds)
   - `--summary-interval` to control how often summaries are generated
   - `--api-url` to connect to a backend for status checks (optional)
   - `--no-api-check` to disable backend status queries
   - `--force-summary` to generate a summary immediately on start

   Log files, daily summaries and five‑minute bucket summaries are written into `focus_logs/`.

   Five‑minute summaries are generated using the [Ollama](https://github.com/ollama/ollama) API running locally at `http://localhost:11434`. If the API is unavailable the monitor will still record usage but the summary text will be empty.

2. **Launch the dashboard**
   ```bash
   streamlit run focus_monitor_dashboard.py
   ```
  The dashboard reads files from `focus_logs/` and provides:
  - interactive charts of daily summaries
  - a label editor for categorising activities
  - a page to browse five‑minute summaries and record personal feedback
  - tools to define activity categories and apply them automatically with a local LLM
  - options to process or recategorise historical data
  - an experimental page for testing category suggestions

## License

This project is distributed without a specific licence file. Use at your own discretion.
